!function(i){var t=function(t,s){this.slider=i(t),this.config=i.extend({displayedSlides:4,slidesMargin:20,createNavigation:!0,navigationType:"both",sliderOverflowClass:"slider-overflow",sliderWrapperClass:"slider-wrapper",sliderContainerClass:"slider-container",slideClass:"slide",sliderActiveContentClass:"slider-activecontent",sliderTriggerClass:"slide-trigger",sliderTriggerContentClass:"slide-trigger-content",sliderNavigationClass:"slider-navigation",navigationPrevClass:"slider-navigation-prev",navigationNextClass:"slider-navigation-next",navigationArrowClass:"slider-navigation-arrows",navigationDotClass:"slider-navigation-dots",navigationPrevText:"Précédent",navigationNextText:"Suivant",navigationDotText:"Afficher la diapositive ",navigationDotActiveText:"Diapositive présentement affichée",ariaTextClass:"aria-text",ariaTextActiveClass:"aria-text-active",ariaHiddenBoxClass:"aria-hidden-box",displayDotsNumber:!0,autoCenterActiveSlide:!0,swipe:!0,autoplay:!1,autoplayDelay:3e3,autoplayButtonClass:"slider-autoplay",autoplayButtonText:"Mettre le carrousel en marche",autoplayButtonPauseText:"Mettre le carrousel en pause",changeSlideLoop:!0,animationSpeed:300,beforeClone:i.noop,afterClone:i.noop,beforeChangeSlide:i.noop,afterChangeSlide:i.noop,beforeUpdateLayout:i.noop,afterUpdateLayout:i.noop,breakpoints:[],customGlobalClasses:[]},s||{}),this.classes=i.extend({active:"is-active",open:"is-open",hover:"is-hover",clicked:"is-clicked",extern:"is-external",error:"is-error"},(void 0!==window.classes?window.classes:this.config.customGlobalClasses)||{}),this.sliderWrapper=this.slider.find("."+this.config.sliderWrapperClass),this.sliderContainer=this.slider.find("."+this.config.sliderContainerClass),this.slides=this.slider.find("."+this.config.slideClass),this.activeSlideIndex=0,this.displayedSlides=this.config.displayedSlides,this.currentBreakpoint=void 0,this.mouseHover=!1,this.animated=!1,this.bindEvents(),this.config.createNavigation&&this.createNavigation(this.config.navigationType),this.config.autoplay&&this.autoplay(),this.config.swipe&&this.swipe(),this.init()};i.extend(t.prototype,{init:function(){if(this.initLayout(this.config.displayedSlides),this.onResize(),this.createAriabox(),this.isActiveContent()){var i=this.slides.first().find("."+this.config.sliderTriggerContentClass).clone();this.slider.prepend('<div class="'+this.config.sliderActiveContentClass+'"></div>'),this.updateActiveSlideContent(i),this.config.autoCenterActiveSlide===!0&&this.slider.find("."+this.config.sliderActiveContentClass).css("text-align","center")}},initLayout:function(){var i=100/this.slides.length,t=this.config.slidesMargin/this.slides.length*this.slides.length,s="float: left;position: relative;width: "+i+"%;width: calc("+i+"% - "+t+"px);";this.config.beforeUpdateLayout(),this.sliderWrapper.css({position:"relative",overflow:"hidden","margin-left":this.config.slidesMargin/2*-1+"px","margin-right":this.config.slidesMargin/2*-1+"px"}),this.sliderWrapper.wrap('<div class="'+this.config.sliderOverflowClass+'"></div>'),this.slider.find("."+this.config.sliderOverflowClass).css("overflow","hidden"),this.sliderContainer.css({position:"relative",left:"0",width:this.slides.length/this.displayedSlides*100+"%"}),this.slides.attr("style",s).find("> a").css("display","block"),this.slides.css({"margin-left":this.config.slidesMargin/2+"px","margin-right":this.config.slidesMargin/2+"px"}),this.slides.slice(this.displayedSlides).find(":focusable").attr("tabindex","-1"),this.config.afterUpdateLayout()},bindEvents:function(){i(window).on("resize",i.proxy(function(){this.onResize()},this)),this.slider.hover(i.proxy(function(){this.mouseHover=!0},this),i.proxy(function(){this.mouseHover=!1},this)),this.isActiveContent()&&this.slider.find("."+this.config.sliderTriggerClass).on("click",i.proxy(function(t){var s=i(t.currentTarget).parents("."+this.config.slideClass).find("."+this.config.sliderTriggerContentClass).clone();this.updateActiveSlideContent(s),t.prevent()},this)),i(document).on("keyboardnavigation",i.proxy(function(){this.stopAutoplay()},this))},createNavigation:function(i){this.slider.find("."+this.config.sliderNavigationClass).remove(),this.sliderWrapper.after('<div class="'+this.config.sliderNavigationClass+' clearfix"></div>'),this.sliderNavigation=this.slider.find("."+this.config.sliderNavigationClass),this.sliderNavigation.addClass("is-"+this.config.sliderNavigationClass+"-"+i),"arrows"===i?this.createArrowsNavigation():"dots"===i?this.createDotsNavigation():(this.createArrowsNavigation(),this.createDotsNavigation())},createArrowsNavigation:function(){var i='<button class="'+this.config.navigationPrevClass+'"><span class="visuallyhidden '+this.config.ariaTextClass+'">'+this.config.navigationPrevText+"</span></button>",t='<button class="'+this.config.navigationNextClass+'"><span class="visuallyhidden '+this.config.ariaTextClass+'">'+this.config.navigationNextText+"</span></button>";this.sliderNavigation.append('<div class="'+this.config.navigationArrowClass+'-wrapper"></div>'),this.sliderNavigation.find("."+this.config.navigationArrowClass+"-wrapper").append(i,t),this.navigationPrevious=this.sliderNavigation.find("."+this.config.navigationPrevClass),this.navigationNext=this.sliderNavigation.find("."+this.config.navigationNextClass),"both"===this.config.navigationType&&(this.navigationPrevious.attr("aria-hidden","true"),this.navigationNext.attr("aria-hidden","true")),this.bindEventsArrowsNavigation()},bindEventsArrowsNavigation:function(){this.navigationPrevious.on("click",i.proxy(function(t){this.navigationTypeTriggered="arrows",this.changeSlide(this.activeSlideIndex-1),this.navigationNext.removeClass(this.classes.active),i(t.currentTarget).addClass(this.classes.active),this.updateAriabox("La diapositive précédente est affichée."),this.stopAutoplay()},this)),this.navigationNext.on("click",i.proxy(function(t){this.navigationTypeTriggered="arrows",this.changeSlide(this.activeSlideIndex+1),this.navigationPrevious.removeClass(this.classes.active),i(t.currentTarget).addClass(this.classes.active),this.updateAriabox("La diapositive suivante est affichée."),this.stopAutoplay()},this))},createDotsNavigation:function(){var t='<button class="'+this.config.navigationDotClass+'"><span class="visuallyhidden '+this.config.ariaTextClass+'"></span></button>';this.sliderNavigation.append('<div class="'+this.config.navigationDotClass+'-wrapper"></div>');for(var s=0;s<this.slides.length/this.displayedSlides;s++)this.sliderNavigation.find("."+this.config.navigationDotClass+"-wrapper").append(t);this.navigationDots=this.sliderNavigation.find("."+this.config.navigationDotClass),this.navigationDots.each(i.proxy(function(t,s){this.config.displayDotsNumber===!0?i(s).find("."+this.config.ariaTextClass).text(this.config.navigationDotText).after(t+1):i(s).find("."+this.config.ariaTextClass).text(this.config.navigationDotText+(parseInt(t)+1))},this)),this.navigationDots.eq(0).addClass(this.classes.active).append('<span class="visuallyhidden '+this.config.ariaTextActiveClass+'"> '+this.config.navigationDotActiveText+"</span>"),this.bindEventsDotsNavigation()},bindEventsDotsNavigation:function(){this.navigationDots=this.sliderNavigation.find("."+this.config.navigationDotClass),this.navigationDots.on("click",i.proxy(function(t){this.navigationTypeTriggered="dots";var s=i(t.currentTarget).index()-i(t.currentTarget).parent().find(".slider-navigation-prev, .slider-navigation-next").length;this.changeSlide(s*this.displayedSlides),this.navigationDots.removeClass(this.classes.active),i(t.currentTarget).addClass(this.classes.active),this.stopAutoplay()},this))},swipe:function(){this.detectswipe(this.slider,i.proxy(function(i){this.stopAutoplay(),"left"===i?this.changeSlide(this.activeSlideIndex+1):this.changeSlide(this.activeSlideIndex-1)},this))},autoplay:function(){this.createAutoplayButton(),this.isAutoplay=!0,this.toggleAutoplayText(),this.autoplayInterval=setInterval(i.proxy(function(){this.mouseHover||this.changeSlide(this.activeSlideIndex+1)},this),this.config.autoplayDelay)},createAutoplayButton:function(){var i='<button class="'+this.config.autoplayButtonClass+" "+this.classes.active+'"><span class="">'+this.config.autoplayButtonText+"</span></button>";this.sliderNavigation.find("."+this.config.autoplayButtonClass).length<1&&(this.sliderNavigation.append(i),this.bindEventsAutoplayButton())},bindEventsAutoplayButton:function(){this.autoplayButton=this.sliderNavigation.find("."+this.config.autoplayButtonClass),this.autoplayButton.on("click",i.proxy(function(){this.isAutoplay?(this.stopAutoplay(),this.autoplayButton.removeClass(this.classes.active)):(this.mouseHover=!1,this.autoplay(),this.autoplayButton.addClass(this.classes.active))},this))},stopAutoplay:function(){this.isAutoplay=!1,clearInterval(this.autoplayInterval),this.sliderNavigation.find("."+this.config.autoplayButtonClass).length>0&&(this.sliderNavigation.find("."+this.config.autoplayButtonClass).removeClass(this.classes.active),this.toggleAutoplayText())},toggleAutoplayText:function(){this.sliderNavigation.find("."+this.config.autoplayButtonClass).length>0&&(this.isAutoplay?this.autoplayButton.find("span").text(this.config.autoplayButtonPauseText):this.autoplayButton.find("span").text(this.config.autoplayButtonText))},createAriabox:function(){"arrows"===this.config.navigationType&&(this.slider.append('<div class="visuallyhidden '+this.config.ariaHiddenBoxClass+'" aria-live="polite" aria-atomic="true" aria-hidden="true"></div>'),this.ariaHiddenBox=this.slider.find("."+this.config.ariaHiddenBoxClass))},updateAriabox:function(i){"arrows"===this.config.navigationType&&this.ariaHiddenBox.html(i)},changeSlide:function(i){0>i?i=this.config.changeSlideLoop?this.slides.length-this.displayedSlides:0:i>this.slides.length-this.displayedSlides&&(i="dots"===this.navigationTypeTriggered?this.slides.length-this.displayedSlides:this.config.changeSlideLoop?0:this.slides.length-this.displayedSlides),this.animated||this.changeSlideAnimation(i)},changeSlideAnimation:function(t){this.animated=!0,this.config.beforeChangeSlide(),this.sliderContainer.animate({left:100/this.displayedSlides*t*-1+"%"},this.config.animationSpeed,i.proxy(function(){this.animated=!1,this.config.afterChangeSlide(),this.activeSlideIndex=t,this.slides.find(":focusable").attr("tabindex","-1"),this.slides.slice(t,t+this.displayedSlides).find(":focusable").removeAttr("tabindex"),"dots"!==this.config.navigationType&&"both"!==this.config.navigationType||(this.navigationDots.removeClass(this.classes.active).eq(t).addClass(this.classes.active),this.navigationDots.find("."+this.config.ariaTextActiveClass).remove(),this.navigationDots.eq(t).append('<span class="visuallyhidden '+this.config.ariaTextActiveClass+'">'+this.config.navigationDotActiveText+"</span>"))},this))},updateActiveSlideContent:function(i){this.config.beforeClone(),this.slider.find("."+this.config.sliderActiveContentClass).html(i),this.config.afterClone()},onResize:function(){for(var i,t=this.config.breakpoints,s=0;s<t.length;s++){if(Modernizr.mq("only all and (max-width: "+t[s].maxwidth+"px)")){i=s;break}i=void 0}this.updateBreakpoint(i)},detectswipe:function(i,t){swipe_det=new Object,swipe_det.sX=0,swipe_det.sY=0,swipe_det.eX=0,swipe_det.eY=0;var s=30,e=30,a=50,n=60;i=i[0],i.addEventListener("touchstart",function(i){var t=i.touches[0];swipe_det.sX=t.screenX,swipe_det.sY=t.screenY},!1),i.addEventListener("touchmove",function(i){i.preventDefault();var t=i.touches[0];swipe_det.eX=t.screenX,swipe_det.eY=t.screenY},!1),i.addEventListener("touchend",function(i){(swipe_det.eX-s>swipe_det.sX||swipe_det.eX+s<swipe_det.sX)&&swipe_det.eY<swipe_det.sY+n&&swipe_det.sY>swipe_det.eY-n&&swipe_det.eX>0?swipe_det.eX>swipe_det.sX?direction="right":direction="left":(swipe_det.eY-a>swipe_det.sY||swipe_det.eY+a<swipe_det.sY)&&swipe_det.eX<swipe_det.sX+e&&swipe_det.sX>swipe_det.eX-e&&swipe_det.eY>0&&(swipe_det.eY>swipe_det.sY?direction="down":direction="up"),""!=direction&&"function"==typeof t&&t(direction),direction="",swipe_det.sX=0,swipe_det.sY=0,swipe_det.eX=0,swipe_det.eY=0},!1)},updateBreakpoint:function(i){var t=this.config.breakpoints;this.currentBreakpoint!==i&&(void 0!==i?(this.displayedSlides=t[i].displayedSlides,this.createNavigation(t[i].navigationType),this.initLayout()):(this.displayedSlides=this.config.displayedSlides,this.createNavigation(this.config.navigationType),this.initLayout()),this.currentBreakpoint=i)},isActiveContent:function(){return"undefined"!=typeof this.slider.data("activecontent")}}),i.fn.slider=function(s){return this.each(function(){var e=i(this);if(!e.data("slider")){var a=new t(this,s);e.data("slider",a)}})}}(jQuery);